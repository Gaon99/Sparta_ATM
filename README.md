# 프로젝트 이름

## 📖 목차
1. [프로젝트 소개](#프로젝트-소개)
2. [주요기능](#주요기능)
3. [개발기간](#개발기간)
4. [Trouble Shooting](#trouble-shooting)
   
## 프로젝트 소개
 Unity 심화 주차 과제
 

## 주요기능

- 기능 1 : SignUp 버튼을 눌려 계정 생성 가능
  - 오류 팝업
    - 아이디가 이미 존재할 경우
    - 인풋 필드가 공백일 경우
    - Password가 ConfirmPassword와 다를 경우

- 기능 2 : 생성한 계정은 json을 통해 파일을 저장하고, 저장한 데이터를 로드하여, 유저의 ID, PW로 로그인 가능하다.

  이때 패스워드는 HashPassword를 통해 해시시켜서 보안을 높임.

- 기능 3 : 로그인 시에 유저의 이름, 보유 현금, 계좌 금액 등의 정보를 볼 수 있다.

- 기능 4 : 입금, 출금 및 송금 버튼을 눌려 원하는 행동을 할 수 있다.

- 기능 5 : 제네릭 싱글톤을 사용하여 각각의 매니저를 싱글톤화 해줌

- 기능 6 : ButtonManager에서 SetButtonAction()를 통해, 코드상으로 버튼 액션 추가 가능
  
## ⏲️ 개발기간
- 2024.03.19(수) ~ 2024.03.26(수)

## Trouble Shooting

### Login

로그인이 되었으나 UIText가 업데이트가 되지 않음 -> 

UI Text가 문제라고 파악하였고, UI Text중 UI를 업데이트 해주는 UpdateUI가 현재 유저의 정보를 못가져온다고 파악 -> 

이때 UpdateUI를 Update()에 넣어두어 프레임 단위로 갱신을 시켜주었지만, 변동시에만 변화를 시켜주는 것이 맞다고 생각하여, Update 삭제 -> 

UItext에서 Manager가 가지고 있는 CurrentUserId를 가져오게 하고 싶어서 참조를 살펴보던 중

Manager에서 null 즉 SetCurrentUserId 메서드가 작동을 안하는 것으로 파악 -> 

메서드 자체에는 오류가 없었음 -> 그럼 해당 메서드를 사용하는 Login()에 문제가 있다고 파악 ->


오류를 걸러내기 위해 조건문을 걸었으나 이 부분에서 문제가 있는 것으로 파악하여, if(조건) return;을 사용해서, 오류 이후 해당 메서드 탈출로, 오류가 아닌 경우에만 로그인이 되도록 메서드를 수정 ->

아이디만 동일하면 패스워드를 입력하지 않아도 로그인이 됨 -> 

로그인 메서드에 각 패널에 대한 관리를 해주었는데, 버튼 액션을 추가하기 위한 메서드에도 패널에 대한 Set.Active()가 적혀져 있어서 오류가 아닐 경우 바로 패널이 변경이 되는 것이였다 -> 

버튼 액션 메서드에 패널에 대한 관리를 지웠더니 해결 완

### 제네릭 싱글톤

제네릭 싱글톤을 처음 사용해보아서, 특강때 알려주셨던 코드를 가져와 Singleton클래스를 제작함 -> 

타입 T가 매개변수 T로 사용하기 위해서 UnityEngine.Object 및 Component로 변환을 할 수 있어야한다는 오류 발생 -> 

제네릭 싱글톤에 대해서 웹서핑을 해보았더니 Where T : MonoBehaviour 가 빠져있어서 해당 오류가 났음 -> 해결 완

### Button

버튼을 인스펙터에서 버튼의 기능을 할당하여 주는 것이 아니라. ButtonManager에 인덱스에 맞는 곳에 버튼을 넣기만 하면 해당 버튼이 해당 기능을 하는 구조를 짰음 -> 

처음에 이렇게 해보는 것이 처음이기에 이 부분을 간과하고, 각 각의 버튼에 해당 기능을 넣어줘야한다고 생각 ->

버튼의 기능을 넣어주었더니, 입금 및 출금시에 한번 클릭 하였으나, 2배가 입금 및 출금 되는 오류를 확인 -> 

오류 수정을 위한 테스트로 인스펙터에서 입금 및 출금 버튼의 button 기능을 제외했음 -> 

동작이 되는 것을 확인하고 button에 모든 기능을 제외시켜주면서 해결했음

### UsersData

데이터를 관리하기 위해 처음에는 SO를 사용했으나, 굳이 SO를 사용할 필요가 없고 클래스를 사용해서 해도 된다는 피드백을 받고, 유저의 정보를 클래스로 관리함 -> 

하나의 데이터를 관리할 때엔 문제가 없었으나, 로그인, 계정 생성 송금 기능을 구현하기 위해선 유저의 데이터를 리스트로 관리하는 것이 좋다고 생각함 ->

리스트를 사용하여 List<UsersData> 로 생성했고, 원래엔 UsersData에 직접 참조하여 데이터 값을 변환 시켰지만, 현재 유저의 정보를 받아와 해당 유저의 정보를 수정해야한다고 생각했음 -> 

UsersData usersdata로 사용했던 부분을 모든 스크립트에서 변경시켰음 ->

해당 과정에서 유저 정보를 가져오지 못하는 오류가 너무나도 많은 곳에서 발생하였고, 람다를 사용하여 현재 유저를 받아와 그 유저의 정보에 접근하는 방법을 사용하여 유저의 데이터를 관리했음.
